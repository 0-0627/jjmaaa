# <font style="color:rgb(64, 64, 64);">一、装饰器</font>
**<font style="color:rgb(64, 64, 64);">概念</font>**<font style="color:rgb(64, 64, 64);">：装饰器用于扩展函数功能，通过</font><font style="color:rgb(64, 64, 64);"> </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">@decorator</font>**`<font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">语法实现，本质是函数嵌套。</font>

**<font style="color:rgb(64, 64, 64);">多层装饰器示例</font>**<font style="color:rgb(64, 64, 64);">：</font>

```plain
def wrapper1(func):
    def inner1():
        print('装饰器1前')
        func()
        print('装饰器1后')
    return inner1

def wrapper2(func):
    def inner2():
        print('装饰器2前')
        func()
        print('装饰器2后')
    return inner2

@wrapper1
@wrapper2
def f():
    print('Hello')

f()
# 输出：
# 装饰器1前 → 装饰器2前 → Hello → 装饰器2后 → 装饰器1后
```

+ **<font style="color:rgb(64, 64, 64);">执行顺序</font>**<font style="color:rgb(64, 64, 64);">：从下往上装饰，执行时从上往下调用。</font>
+ **<font style="color:rgb(64, 64, 64);">保留原函数名</font>**<font style="color:rgb(64, 64, 64);">：使用</font><font style="color:rgb(64, 64, 64);"> </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">@wraps(func)</font>**`<font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">装饰内部函数。</font>

---

# <font style="color:rgb(64, 64, 64);">二、迭代器与生成器</font>
**<font style="color:rgb(64, 64, 64);">1. 迭代器</font>**

**<font style="color:rgb(64, 64, 64);">判断迭代器</font>**<font style="color:rgb(64, 64, 64);">：</font>

```plain
from collections.abc import Iterator
lst = [1, 2, 3]
print(isinstance(iter(lst), Iterator))  # True
```

**<font style="color:rgb(64, 64, 64);">手动迭代</font>**<font style="color:rgb(64, 64, 64);">：</font>

```plain
lst_iter = iter(lst)
print(next(lst_iter))  # 1
print(next(lst_iter))  # 2
```

**<font style="color:rgb(64, 64, 64);">2. 生成器</font>**

**<font style="color:rgb(64, 64, 64);">定义</font>**<font style="color:rgb(64, 64, 64);">：通过 </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">yield</font>**`<font style="color:rgb(64, 64, 64);"> 实现状态保持的函数。</font>

```plain
def numbers(n):
    for i in range(1, n+1):
        yield i
for num in numbers(3):
    print(num)  # 1, 2, 3
```

`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">send()</font>**`**<font style="color:rgb(64, 64, 64);"> 方法</font>**<font style="color:rgb(64, 64, 64);">：向生成器发送数据。</font>

```plain
def generator():
    content = yield "Ready"
    yield f"Received: {content}"

g = generator()
print(next(g))        # Ready
print(g.send("Data")) # Received: Data
```

---

# <font style="color:rgb(64, 64, 64);">三、推导式</font>
**<font style="color:rgb(64, 64, 64);">1. 列表推导式</font>**

<font style="color:rgb(73, 73, 73);background-color:rgb(250, 250, 250);">squares = [x**2 for x in range(5)]  # [0, 1, 4, 9, 16]</font>

**<font style="color:rgb(64, 64, 64);">2. 集合推导式</font>**

<font style="color:rgb(73, 73, 73);background-color:rgb(250, 250, 250);">unique = {x % 3 for x in [1, 2, 3, 1]}  # {0, 1, 2}</font>

**<font style="color:rgb(64, 64, 64);">3. 字典推导式</font>**

<font style="color:rgb(73, 73, 73);background-color:rgb(250, 250, 250);">swap = {v: k for k, v in {'a': 1, 'b': 2}.items()}  # {1: 'a', 2: 'b'}</font>

**<font style="color:rgb(64, 64, 64);">4. 生成器表达式</font>**

```plain
gen = (x**2 for x in range(5))
print(next(gen))  # 0 (惰性计算)
```

---

# <font style="color:rgb(64, 64, 64);">四、模块与包</font>
**<font style="color:rgb(64, 64, 64);">1. 模块分类</font>**

+ <font style="color:rgb(64, 64, 64);">自定义模块：用户编写（如</font><font style="color:rgb(64, 64, 64);"> </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">my_module.py</font>**`<font style="color:rgb(64, 64, 64);">）。</font>
+ <font style="color:rgb(64, 64, 64);">标准库模块：Python 自带（如</font><font style="color:rgb(64, 64, 64);"> </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">math</font>**`<font style="color:rgb(64, 64, 64);">）。</font>
+ <font style="color:rgb(64, 64, 64);">第三方模块：通过</font><font style="color:rgb(64, 64, 64);"> </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">pip</font>**`<font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">安装。</font>

**<font style="color:rgb(64, 64, 64);">2. 包结构</font>**

```plain
my_package/
    __init__.py
    submodule/
        __init__.py
        utils.py
```

**<font style="color:rgb(64, 64, 64);">3. 导入方式</font>**

**<font style="color:rgb(64, 64, 64);">绝对导入</font>**<font style="color:rgb(64, 64, 64);">：</font>

+ <font style="color:rgb(82, 82, 82);background-color:rgb(250, 250, 250);"></font><font style="color:rgb(73, 73, 73);background-color:rgb(250, 250, 250);">from my_package.submodule import utils</font>

**<font style="color:rgb(64, 64, 64);">相对导入</font>**<font style="color:rgb(64, 64, 64);">（仅限包内）：</font>

+ 

```plain
from .submodule import utils  # 当前目录
from ..parent_module import func  # 上级目录
```

**<font style="color:rgb(64, 64, 64);">4. 注意事项</font>**

+ <font style="color:rgb(64, 64, 64);">避免循环导入。</font>
+ <font style="color:rgb(64, 64, 64);">使用</font><font style="color:rgb(64, 64, 64);"> </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">__all__</font>**`<font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">控制</font><font style="color:rgb(64, 64, 64);"> </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">from module import *</font>**`<font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">的行为。</font>
+ <font style="color:rgb(64, 64, 64);">包内</font><font style="color:rgb(64, 64, 64);"> </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">__init__.py</font>**`<font style="color:rgb(64, 64, 64);"> </font><font style="color:rgb(64, 64, 64);">可初始化包级变量。</font>

---

# <font style="color:rgb(64, 64, 64);">五、内置函数</font>
<font style="color:rgb(64, 64, 64);">Python 提供 </font>**<font style="color:rgb(64, 64, 64);">69 个内置函数</font>**<font style="color:rgb(64, 64, 64);">，如 </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">len()</font>**`<font style="color:rgb(64, 64, 64);">, </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">map()</font>**`<font style="color:rgb(64, 64, 64);">, </font>`**<font style="color:rgb(64, 64, 64);background-color:rgb(236, 236, 236);">filter()</font>**`<font style="color:rgb(64, 64, 64);"> 等。  
</font><font style="color:rgb(64, 64, 64);">完整列表参考：</font>[<font style="color:rgb(59, 130, 246);">Python 官方文档</font>](https://docs.python.org/zh-cn/3.9/library/functions.html)

